(()=>{const e=io();let n=document.querySelector("ul"),s=document.querySelector("form"),t=document.querySelector(".nickname"),a=document.querySelector(".message"),l=null;t.addEventListener("change",function(){l=this.value},!1),s.addEventListener("submit",function(n){return n.preventDefault(),l=l&&l.length>0?l:"user",msg=`<span class="userMessageLabel">${l} says:</span> ${a.value}`,e.emit("chat message",msg),a.value="",!1},!1),e.addEventListener("chat message",function(e){let s=`<li>${e.message}</li>`;n.innerHTML+=s},!1),e.addEventListener("disconnect message",function(e){let s=`<li class="dmessage">${e}</li>`;n.innerHTML+=s},!1)})();